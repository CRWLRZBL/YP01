–ê–Ω–∞–ª–∏–∑ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–ª—è –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –∑–∞–∫–∞–∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

1.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–∞—è –≤–µ–±-–ø–æ–¥—Å–∏—Å—Ç–µ–º–∞ ¬´–ê–≤—Ç–æ–ó–∞–∫–∞–∑¬ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–∫–∞–∑–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –≤ –∞–≤—Ç–æ—Å–∞–ª–æ–Ω–µ. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –æ–Ω–ª–∞–π–Ω, –∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º —Å–∞–ª–æ–Ω–∞ ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏.

–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ –Ω–∞ 40-50%
–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏
–ü–æ–≤—ã—à–µ–Ω–∏–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤
–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
1.2 –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:

–î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:

üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ
üöó –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–≤—ã–±–æ—Ä –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏, —Ü–≤–µ—Ç–∞, –æ–ø—Ü–∏–π)
üí∞ –†–∞—Å—á–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
üìã –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤/–º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤:

üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏
üèéÔ∏è CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏ –∏ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è–º–∏
üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ (–ø—Ä–∏–µ–º, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤, –æ—Ç–º–µ–Ω–∞)
üìà –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º
üíº –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑–æ–π
1.3 –ë–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å—ã —Å–∏—Å—Ç–µ–º—ã

–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞":

–ö–ª–∏–µ–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è/–∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ
–í—ã–±–∏—Ä–∞–µ—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—é —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä
–°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å
–ö–ª–∏–µ–Ω—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∑–∞–∫–∞–∑ –∏ –≤–Ω–æ—Å–∏—Ç –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ
–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π
–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
1.4 –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–†–æ–ª—å	–ü—Ä–∞–≤–∞ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
–ö–ª–∏–µ–Ω—Ç	–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
–ú–µ–Ω–µ–¥–∂–µ—Ä	–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–∫–∞–∑–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –±–∞–∑–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã
–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä	–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
1.5 –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å:

–û–°: Windows Server 2019+ –∏–ª–∏ Ubuntu 20.04+
–°–£–ë–î: SQL Server 2019+ –∏–ª–∏ PostgreSQL 13+
–§—Ä–µ–π–º–≤–æ—Ä–∫: ASP.NET Core 6.0+
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: Docker + docker-compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å:

–ë—Ä–∞—É–∑–µ—Ä—ã: Chrome 90+, Firefox 88+, Safari 14+
–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ: –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω (–æ—Ç 320px –¥–æ 1920px+)
–ò–Ω—Ç–µ—Ä–Ω–µ—Ç: –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
1.6 –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: –æ—Ç–∫–ª–∏–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚â§ 2 —Å–µ–∫, –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü ‚â§ 3 —Å–µ–∫
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: HTTPS, —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, –∑–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π
–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å: uptime 99.5%, —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑ –≤ 24 —á–∞—Å–∞
–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

 
 






5.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –£–¥–∞–ª–µ–Ω–Ω—ã–µ–ó–∞–∫–∞–∑—á–∏–∫–∏ –∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞ DELETE

sql
Copy
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –£–¥–∞–ª–µ–Ω–Ω—ã–µ–ó–∞–∫–∞–∑—á–∏–∫–∏
CREATE TABLE –£–¥–∞–ª–µ–Ω–Ω—ã–µ–ó–∞–∫–∞–∑—á–∏–∫–∏ (
    –ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞ INT,
    -- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –ó–∞–∫–∞–∑—á–∏–∫–∏
    –ò–º—è NVARCHAR(100),
    –§–∞–º–∏–ª–∏—è NVARCHAR(100),
    –ê–¥—Ä–µ—Å NVARCHAR(200),
    –¢–µ–ª–µ—Ñ–æ–Ω NVARCHAR(20),
    Email NVARCHAR(100),
    –î–∞—Ç–∞–£–¥–∞–ª–µ–Ω–∏—è DATETIME DEFAULT GETDATE()
);

-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑—á–∏–∫–æ–≤
CREATE TRIGGER tr_–ó–∞–∫–∞–∑—á–∏–∫–∏_AfterDelete
ON –ó–∞–∫–∞–∑—á–∏–∫–∏
AFTER DELETE
AS
BEGIN
    INSERT INTO –£–¥–∞–ª–µ–Ω–Ω—ã–µ–ó–∞–∫–∞–∑—á–∏–∫–∏ (–ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞, –ò–º—è, –§–∞–º–∏–ª–∏—è, –ê–¥—Ä–µ—Å, –¢–µ–ª–µ—Ñ–æ–Ω, Email)
    SELECT –ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞, –ò–º—è, –§–∞–º–∏–ª–∏—è, –ê–¥—Ä–µ—Å, –¢–µ–ª–µ—Ñ–æ–Ω, Email
    FROM deleted;
END;
5.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã Logs –∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –¥–ª—è —Ç–∞–±–ª–∏—Ü –ö–Ω–∏–≥–∏ –∏ –ó–∞–∫–∞–∑—ã

sql
Copy
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã Logs
CREATE TABLE Logs (
    ID INT IDENTITY(1,1) PRIMARY KEY,
    –¢–∞–±–ª–∏—Ü–∞ NVARCHAR(50) NOT NULL,
    –û–ø–µ—Ä–∞—Ü–∏—è NVARCHAR(10) NOT NULL,
    –î–∞—Ç–∞–í—Ä–µ–º—è DATETIME DEFAULT GETDATE(),
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å NVARCHAR(100) DEFAULT SUSER_SNAME()
);

-- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ö–Ω–∏–≥–∏
CREATE TRIGGER tr_–ö–Ω–∏–≥–∏_AfterInsert
ON –ö–Ω–∏–≥–∏
AFTER INSERT
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ö–Ω–∏–≥–∏', 'INSERT');
END;

CREATE TRIGGER tr_–ö–Ω–∏–≥–∏_AfterUpdate
ON –ö–Ω–∏–≥–∏
AFTER UPDATE
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ö–Ω–∏–≥–∏', 'UPDATE');
END;

CREATE TRIGGER tr_–ö–Ω–∏–≥–∏_AfterDelete
ON –ö–Ω–∏–≥–∏
AFTER DELETE
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ö–Ω–∏–≥–∏', 'DELETE');
END;

-- –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ó–∞–∫–∞–∑—ã
CREATE TRIGGER tr_–ó–∞–∫–∞–∑—ã_AfterInsert
ON –ó–∞–∫–∞–∑—ã
AFTER INSERT
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ó–∞–∫–∞–∑—ã', 'INSERT');
END;

CREATE TRIGGER tr_–ó–∞–∫–∞–∑—ã_AfterUpdate
ON –ó–∞–∫–∞–∑—ã
AFTER UPDATE
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ó–∞–∫–∞–∑—ã', 'UPDATE');
END;

CREATE TRIGGER tr_–ó–∞–∫–∞–∑—ã_AfterDelete
ON –ó–∞–∫–∞–∑—ã
AFTER DELETE
AS
BEGIN
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ó–∞–∫–∞–∑—ã', 'DELETE');
END;
5.3 –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ DELETE –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –ó–∞–∫–∞–∑—ã

sql
Copy
ALTER TRIGGER tr_–ó–∞–∫–∞–∑—ã_AfterDelete
ON –ó–∞–∫–∞–∑—ã
AFTER DELETE
AS
BEGIN
    -- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    INSERT INTO Logs (–¢–∞–±–ª–∏—Ü–∞, –û–ø–µ—Ä–∞—Ü–∏—è)
    VALUES ('–ó–∞–∫–∞–∑—ã', 'DELETE');
    
    -- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑—á–∏–∫–æ–≤ –±–µ–∑ –∑–∞–∫–∞–∑–æ–≤
    DELETE FROM –ó–∞–∫–∞–∑—á–∏–∫–∏
    WHERE –ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞ IN (
        SELECT –ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞
        FROM –ó–∞–∫–∞–∑—á–∏–∫–∏
        WHERE NOT EXISTS (
            SELECT 1
            FROM –ó–∞–∫–∞–∑—ã
            WHERE –ó–∞–∫–∞–∑—ã.–ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞ = –ó–∞–∫–∞–∑—á–∏–∫–∏.–ö–æ–¥–ó–∞–∫–∞–∑—á–∏–∫–∞
        )
    );
END;
5.4 –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä–∞ INSERT –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –°–æ—Å—Ç–∞–≤

sql
Copy
ALTER TRIGGER tr_–°–æ—Å—Ç–∞–≤_AfterInsert
ON –°–æ—Å—Ç–∞–≤
AFTER INSERT
AS
BEGIN
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∑–∞–∫–∞–∑–∞
    UPDATE –ó–∞–∫–∞–∑—ã
    SET –°—Ç–æ–∏–º–æ—Å—Ç—å = (
        SELECT SUM(–ö–Ω–∏–≥–∏.–¶–µ–Ω–∞ * –°–æ—Å—Ç–∞–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ)
        FROM –°–æ—Å—Ç–∞–≤
        JOIN –ö–Ω–∏–≥–∏ ON –°–æ—Å—Ç–∞–≤.–ö–æ–¥–ö–Ω–∏–≥–∏ = –ö–Ω–∏–≥–∏.–ö–æ–¥–ö–Ω–∏–≥–∏
        WHERE –°–æ—Å—Ç–∞–≤.–ö–æ–¥–ó–∞–∫–∞–∑–∞ = –ó–∞–∫–∞–∑—ã.–ö–æ–¥–ó–∞–∫–∞–∑–∞
    )
    WHERE –ö–æ–¥–ó–∞–∫–∞–∑–∞ IN (SELECT –ö–æ–¥–ó–∞–∫–∞–∑–∞ FROM inserted);
    
    -- –ó–∞–ø–∏—Å—å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
    DECLARE @orderCost DECIMAL(10,2);
    
    SELECT @orderCost = SUM(–ö–Ω–∏–≥–∏.–¶–µ–Ω–∞ * –°–æ—Å—Ç–∞–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ)
    FROM –°–æ—Å—Ç–∞–≤
    JOIN –ö–Ω–∏–≥–∏ ON –°–æ—Å—Ç–∞–≤.–ö–æ–¥–ö–Ω–∏–≥–∏ = –ö–Ω–∏–≥–∏.–ö–æ–¥–ö–Ω–∏–≥–∏
    WHERE –°–æ—Å—Ç–∞–≤.–ö–æ–¥–ó–∞–∫–∞–∑–∞ IN (SELECT –ö–æ–¥–ó–∞–∫–∞–∑–∞ FROM inserted);
    
    -- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –º–µ–∂–¥—É —Å–µ–∞–Ω—Å–∞–º–∏, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É
    IF OBJECT_ID('tempdb..#orderCost') IS NOT NULL
        DROP TABLE #orderCost;
    
    CREATE TABLE #orderCost (Cost DECIMAL(10,2));
    INSERT INTO #orderCost VALUES (@orderCost);
END;
